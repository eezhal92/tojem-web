<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Statistik</title>
  <meta name="viewport" content="initial-scale=1,width=device-width">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.18/c3.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>
<body class="font-sans font-normal text-black leading-normal">
  <div id="app">
    <%- include('../_partials/sidebar') %>

    <div class="main-content bg-grey-lightest">

      <%- include('../_partials/header') %>

      <div class="container mx-auto px-8 pb-4">
        <div class="flex">
          <div class="w-full">
            <h1 class="my-4">Ringkasan Laporan</h1>
          </div>
        </div>

        <div id="sales-amount" class="p-2 border shadow-xs rounded bg-white">
          <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="grid-state">
            Rentang Waktu
          </label>
          <div class="relative">
            <select class="block appearance-none bg-grey-lighter border border-grey-lighter text-grey-darker py-3 px-4 pr-8 rounded" name="" id="">
              <option value="">7 hari terakhir</option>
              <option value="">Hari ini</option>
              <option value="">Kemarin</option>
              <option value="">Minggu Ini</option>
              <option value="">Minggu Kemarin</option>
              <option value="">14 hari terakhir</option>
              <option value="">28 hari terakhir</option>
              <option value="">30 hari terakhir</option>
              <option value="">90 hari terakhir</option>
              <option value="">Triwulan sampai saat ini</option>
              <option value="">12 bulan lalu</option>
              <option value="">Tahun ini</option>
              <option value="">Tahun lalu</option>
            </select>
          </div>
          <div class="flex">
            <div class="xl:w-1/4 lg:w-1/2 md:w-1/2 sm:w-full m-4 p-3 overflow-hidden hover:shadow-lg">
              <p>Penjualan</p>
              <p class="text-3xl">Rp. <%= ordersAmount.toLocaleString() %></p>
            </div>
            <div class="text-black xl:w-1/4 lg:w-1/2 md:w-1/2 sm:w-full m-4 p-3 overflow-hidden hover:shadow-lg">
              <p>Laba Bersih</p>
              <p class="text-3xl">Rp. 24,000</p>
            </div>
          </div>
          <div>
            <div id="chart"></div>
          </div>
        </div>

        <div id="sales-number" class="mt-4 p-2 border shadow-xs rounded bg-white">
          <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="grid-state">
            Rentang Waktu
          </label>
          <div class="relative">
            <select class="block appearance-none bg-grey-lighter border border-grey-lighter text-grey-darker py-3 px-4 pr-8 rounded" name="" id="">
              <option value="">7 hari terakhir</option>
              <option value="">Hari ini</option>
              <option value="">Kemarin</option>
              <option value="">Minggu Ini</option>
              <option value="">Minggu Kemarin</option>
              <option value="">14 hari terakhir</option>
              <option value="">28 hari terakhir</option>
              <option value="">30 hari terakhir</option>
              <option value="">90 hari terakhir</option>
              <option value="">Triwulan sampai saat ini</option>
              <option value="">12 bulan lalu</option>
              <option value="">Tahun ini</option>
              <option value="">Tahun lalu</option>
            </select>
          </div>
          <div class="flex">
            <div class="xl:w-1/4 lg:w-1/2 md:w-1/2 sm:w-full m-4 p-3 overflow-hidden hover:shadow-lg">
              <p>Jumlah</p>
              <p class="text-3xl">23</p>
            </div>
            <div class="text-black xl:w-1/4 lg:w-1/2 md:w-1/2 sm:w-full m-4 p-3 overflow-hidden hover:shadow-lg">
              <p>Item Terjual</p>
              <p class="text-3xl">200</p>
            </div>
            <div class="text-black xl:w-1/4 lg:w-1/2 md:w-1/2 sm:w-full m-4 p-3 overflow-hidden hover:shadow-lg">
              <p>Produk Terjual</p>
              <p class="text-3xl">200</p>
            </div>
          </div>
          <div>
            <div id="chart-1"></div>
          </div>
        </div>

        <div class="flex">

          <div id ="channel" class="w-1/4 mt-4">
            <div class="">
              <div class="rounded p-4 bg-white border">
                <p>Channels</p>
                <div id="chart-offline"></div>
              </div>
            </div>
          </div>

          <div id ="channel" class="w-1/4 mt-4 ml-4">
            <div class="">
              <div class="rounded p-4 bg-white border">
                <p>Channel Types</p>
                <div id="chart-online"></div>
              </div>
            </div>
          </div>

        </div>

      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.18/c3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/date-fns/1.29.0/date_fns.min.js"></script>
  <script>
    c3.generate({
      bindto: '#chart',
      data: {
        x: 'x',
        columns: [
          ['x', '2018-01-01', '2018-01-02', '2018-01-03', '2018-01-04', '2018-01-05', '2018-01-06'],
          ['Penjualan', 80000, 120000, 92000, 90000, 40000, 100000],
          ['Laba', 15000, 4000, 30000, 40000, 30000, 40000],
        ],
        types: {
            'Penjualan': 'area-spline',
            'Laba': 'area-spline',
        }
      },
      axis: {
        x: {
          type: 'timeseries',
          tick: {
            format: function (date) {
              return dateFns.format(date, 'D MMM YY');
            },
          }
        },
        y: {
          tick: {
            format: function (number) {
              return 'Rp.' + number.toLocaleString();
            }
          }
        }
      }
    });

    c3.generate({
      bindto: '#chart-1',
      data: {
        x: 'x',
        columns: [
          ['x', '2018-01-01', '2018-01-02', '2018-01-03', '2018-01-04', '2018-01-05', '2018-01-06'],
          ['Jumlah Transaksi', 10, 12, 8, 9, 14, 20],
          ['Jumlah Produk Terjual', 3, 2, 3, 1, 2, 3],
          ['Jumlah Item Terjual', 20, 23, 18, 22, 23, 29],
        ],
        types: {
            'Jumlah Transaksi': 'area-spline',
            'Jumlah Produk Terjual': 'area-spline',
            'Jumlah Item Terjual': 'area-spline',
        }
      },
      axis: {
        x: {
          type: 'timeseries',
          tick: {
            format: function (date) {
              return dateFns.format(date, 'D MMM YY');
            },
          }
        },
      }
    });

    var donut1ChartOptions = {
      data: {
        columns: [
          ['Online', 30],
          ['Offline', 120],
        ],
        type : 'donut',
        onclick: function (d, i) { console.log("onclick", d, i); },
        onmouseover: function (d, i) { console.log("onmouseover", d, i); },
        onmouseout: function (d, i) { console.log("onmouseout", d, i); }
      },
      donut: {
        title: "Iris Petal Width"
      }
    };

    var donut2ChartOptions = {
      data: {
        columns: [
          ['On-site', 50],
          ['COD', 120],
          ['Delivery', 30],
          ['Buy & Pick', 10],
        ],
        type : 'donut',
        onclick: function (d, i) { console.log("onclick", d, i); },
        onmouseover: function (d, i) { console.log("onmouseover", d, i); },
        onmouseout: function (d, i) { console.log("onmouseout", d, i); }
      },
      donut: {
        title: "Iris Petal Width"
      }
    };

    c3.generate({ ...donut1ChartOptions, bindto: '#chart-offline' });
    c3.generate({ ...donut2ChartOptions, bindto: '#chart-online' });
  </script>
</body>
</html>
